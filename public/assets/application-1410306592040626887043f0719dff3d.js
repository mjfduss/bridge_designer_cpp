(function(){var bar,color_string,commafy,getElement,interpolate,last_name,left_label,lerp,password_max_log,password_strength,password_strengths,password_tests,right_label,set_field_value,strength,tick_spacing,zero_pad;getElement=function(e){return document.getElementById(e)},window.popup=function(e){return window.open(e,"","width=640,height=500,scrollbars=yes,resizable=yes,status=no,location=no,menubar=no"),!0},window.show=function(e){return window.status=e,!0},window.school_state_change=function(e){return getElement("category_u").checked=1,getElement("res_state").selectedIndex=0,!0},window.res_state_change=function(e){return getElement("category_n").checked=1,getElement("school_state").selectedIndex=0,!0},window.category_onclick=function(e){return getElement("school_state").selectedIndex=0,getElement("res_state").selectedIndex=0,!0},window.local_contest_code_focus=function(e){return getElement("national").checked=0,getElement("local").checked=1,!0},window.national_onclick=function(e){return getElement("local_contest_code").value="",!0},password_tests=[{n_unique:26,regex:/[A-Z]+/},{n_unique:26,regex:/[a-z]+/},{n_unique:10,regex:/[0-9]+/},{n_unique:31,regex:/[!@#$%^&*()~`_\-+={}|;:'"<>,.\[\]?\/\\]+/}],password_strengths=[{log:5,msg:"very weak"},{log:10,msg:"weak"},{log:15,msg:"marginal"},{log:20,msg:"good"},{log:1e100,msg:"very good"}],password_max_log=20,password_strength=function(e){var t,n,r,i;t=1;for(r=0,i=password_tests.length;r<i;r++)n=password_tests[r],n.regex.exec(e)&&(t+=n.n_unique);return e.length*Math.log(t)*Math.LOG10E},strength=function(e){var t,n,r;for(n=0,r=password_strengths.length;n<r;n++){t=password_strengths[n];if(t.log>=e)return t}},lerp=function(e,t,n){return Math.floor((1-e)*t+e*n)},interpolate=function(e,t,n){var r,i,s;return e<0&&(e=0),e>1&&(e=1),r=lerp(e,255&t,255&n),i=lerp(e,255&t>>8,255&n>>8),s=lerp(e,255&t>>16,255&n>>16),s<<16|i<<8|r},color_string=function(e){var t;t=e.toString(16);while(t.length<6)t="0"+t;return"#"+t},window.update_indicators=function(){var e,t,n,r,i,s,o;return o=getElement("team_password"),r=getElement("team_password_confirmation"),n=password_strength(o.value),s=.5*password_max_log,e=n<s?interpolate(n/s,16711680,16776960):interpolate((n-s)/s,16776960,65280),i=getElement("strength_meter"),i.style.backgroundColor=color_string(e),i.innerHTML=strength(n).msg,i.style.color=color_string(interpolate(.7,0,e)),t=getElement("match_indicator"),o.value===r.value?(t.innerHTML="match",e=65280):(t.innerHTML="no match",e=16711680),t.style.backgroundColor=color_string(e),t.style.color=color_string(interpolate(.7,0,e)),void 0},set_field_value=function(e,t){return getElement(e).value=t},last_name=null,window.do_submit=function(name){return last_name&&eval("document.forms[0]."+last_name+".value = null"),last_name=name,eval("document.forms[0]."+name+".value = 1"),document.forms[0].submit()},tick_spacing=function(e,t){var n;e<0&&(e=-e),n=1;for(;;){if(e/n<=t)return n;n*=2;if(e/n<=t)return n;n*=2.5;if(e/n<=t)return n;n*=2}return void 0},zero_pad=function(e,t){var n;while(n.length<t)n="0"+n;return n+""},commafy=function(e){var t;t="";for(;;){if(e<=999)return e+t;t=","+zero_pad(e%1e3,3)+t,e=Math.floor(e/1e3)}return void 0},bar=function(e,t,n,r,i){return'<div style="position:absolute;left:'+e+"px;top:"+t+"px;width:"+n+"px;height:"+r+"px;background-color:"+i+';"></div>'},left_label=function(e,t,n,r){return'<div style="position:absolute;left:'+(e-n-4)+"px;top:"+t+"px;width:"+n+'px;line-height:0px;text-align:right;">'+r+"</div>"},right_label=function(e,t,n,r){return'<div style="position:absolute;left:'+(e+4)+"px;top:"+t+"px;width:"+n+'px;line-height:0px;text-align:left;">'+r+"</div>"},window.standings_graph=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(t<2)return'<div class="canvas">Your team ranks '+e+" of "+t+"!</div>";s=32,o=100,d=8,n="blue",h=4,l=4,f="red",c=20,e>t&&(e=t),p=tick_spacing(t,4),g=16,r=Math.floor(s*(t-1)/p),y=g+r,m=g,i='<div><div class="canvas" style="height:'+(y+g)+'px;">',u=0,v=o;for(a=b=1;1<=t?b<=t:b>=t;a=b+=p){if(y-m<s/2)break;i+=bar(v,m,d,1,n)+left_label(v,m,o,"#"+commafy(a)),u=a,m+=s}return u!==t&&(i+=bar(v,y,d,1,n)+left_label(v,y,o,"#"+commafy(t))),v+=d,i+=bar(v,g,h,r+1,n),v+=h+l,m=g+Math.floor(r*(e-1)/(t-1)),i+=bar(v,m-Math.floor(h*.5),c,h,f),i+=right_label(v+c,m,o,"Your team..."),i+('</div><div class="canvas">Standing #'+e+" of "+t+"!</div></div>")}}).call(this);